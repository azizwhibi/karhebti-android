# ğŸ§ª TEST VISUEL - Navigation Tracking pour les DEUX parties

## ğŸ“± Ã‰crans cÃ´te Ã  cÃ´te

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AVANT L'ACCEPTATION (0:08)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“± TÃ‰LÃ‰PHONE PROPGARAGE          â”‚  ğŸ“± TÃ‰LÃ‰PHONE CLIENT                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  â”‚                                          â”‚
â”‚  BreakdownDetailScreen           â”‚  SOSStatusScreen                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ â† DÃ©tails SOS              â”‚  â”‚  â”‚ â† Suivi SOS                â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚                            â”‚  â”‚  â”‚                            â”‚          â”‚
â”‚  â”‚  ğŸ—ºï¸ [CARTE]                â”‚  â”‚  â”‚  ğŸš¨ EN ATTENTE...          â”‚          â”‚
â”‚  â”‚   ğŸ“ Position: 36.8065     â”‚  â”‚  â”‚                            â”‚          â”‚
â”‚  â”‚      Distance: 15 km       â”‚  â”‚  â”‚  Recherche d'un garage...  â”‚          â”‚
â”‚  â”‚                            â”‚  â”‚  â”‚                            â”‚          â”‚
â”‚  â”‚  ğŸ“‹ DÃ©tails                â”‚  â”‚  â”‚  [â—â—â—â—â—â—] Pulse            â”‚          â”‚
â”‚  â”‚     Type: Panne moteur     â”‚  â”‚  â”‚                            â”‚          â”‚
â”‚  â”‚     Description: ...       â”‚  â”‚  â”‚  Type: PNEU                â”‚          â”‚
â”‚  â”‚                            â”‚  â”‚  â”‚  Position: Aide extÃ©rieure â”‚          â”‚
â”‚  â”‚  ğŸ‘¤ Client                 â”‚  â”‚  â”‚  Date: 2025-12-14          â”‚          â”‚
â”‚  â”‚     User ID: 1234567890    â”‚  â”‚  â”‚                            â”‚          â”‚
â”‚  â”‚                            â”‚  â”‚  â”‚  Progression               â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚  â‘  En attente              â”‚          â”‚
â”‚  â”‚  â”‚   âœ… ACCEPTER        â”‚  â”‚  â”‚  â”‚  â‘¡ AcceptÃ©                 â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚  â‘¢ En cours                â”‚          â”‚
â”‚  â”‚         â†‘                  â”‚  â”‚  â”‚  â‘£ TerminÃ©                 â”‚          â”‚
â”‚  â”‚      CLIC ICI!             â”‚  â”‚  â”‚                            â”‚          â”‚
â”‚  â”‚                            â”‚  â”‚  â”‚  ğŸ”„ Polling... (5s)        â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                  â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â±ï¸ 0:09 - PropGarage clique "Accepter"
        â””â”€> PATCH /breakdowns/:id { status: "ACCEPTED" }

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                PENDANT LA TRANSITION (0:10-0:14)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“± TÃ‰LÃ‰PHONE PROPGARAGE          â”‚  ğŸ“± TÃ‰LÃ‰PHONE CLIENT                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  â”‚                                          â”‚
â”‚  â³ Navigation en cours...        â”‚  ğŸ”„ Polling dÃ©tecte changement...        â”‚
â”‚                                  â”‚                                          â”‚
â”‚  BreakdownDetailScreen           â”‚  SOSStatusScreen                         â”‚
â”‚  â””â”€> onAccepted() appelÃ©         â”‚  â”œâ”€> GET /breakdowns/:id                â”‚
â”‚      â””â”€> Navigate Tracking       â”‚  â”œâ”€> Status: ACCEPTED âœ…                â”‚
â”‚                                  â”‚  â””â”€> onNavigateToTracking()             â”‚
â”‚                                  â”‚      â””â”€> Navigate Tracking              â”‚
â”‚                                  â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â±ï¸ 0:11 - PropGarage arrive sur Tracking
â±ï¸ 0:14 - Client arrive sur Tracking (aprÃ¨s polling)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              APRÃˆS L'ACCEPTATION - LES DEUX CONNECTÃ‰S (0:15)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“± TÃ‰LÃ‰PHONE PROPGARAGE          â”‚  ğŸ“± TÃ‰LÃ‰PHONE CLIENT                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  â”‚                                          â”‚
â”‚  BreakdownTrackingScreen         â”‚  BreakdownTrackingScreen                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ â† Suivi en temps rÃ©el      â”‚  â”‚  â”‚ â† Suivi en temps rÃ©el      â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚                            â”‚  â”‚  â”‚                            â”‚          â”‚
â”‚  â”‚  ğŸ—ºï¸ [CARTE INTERACTIVE]    â”‚  â”‚  â”‚  ğŸ—ºï¸ [CARTE INTERACTIVE]    â”‚          â”‚
â”‚  â”‚                            â”‚  â”‚  â”‚                            â”‚          â”‚
â”‚  â”‚    ğŸš— â† MOI (Garage)       â”‚  â”‚  â”‚    ğŸš— (Garage)             â”‚          â”‚
â”‚  â”‚    â”‚  36.8100, 10.1900     â”‚  â”‚  â”‚    â”‚  36.8100, 10.1900     â”‚          â”‚
â”‚  â”‚    â”‚                       â”‚  â”‚  â”‚    â”‚                       â”‚          â”‚
â”‚  â”‚    â”‚ 15 km                 â”‚  â”‚  â”‚    â”‚ 15 km                 â”‚          â”‚
â”‚  â”‚    â†“                       â”‚  â”‚  â”‚    â†“                       â”‚          â”‚
â”‚  â”‚    ğŸ“ Client               â”‚  â”‚  â”‚    ğŸ“ â† MOI (Client)       â”‚          â”‚
â”‚  â”‚       36.8065, 10.1815     â”‚  â”‚  â”‚       36.8065, 10.1815     â”‚          â”‚
â”‚  â”‚                            â”‚  â”‚  â”‚                            â”‚          â”‚
â”‚  â”‚  ğŸ“ Distance: 15 km        â”‚  â”‚  â”‚  ğŸ“ Distance: 15 km        â”‚          â”‚
â”‚  â”‚  â±ï¸  ETA: ~20 min           â”‚  â”‚  â”‚  â±ï¸  ETA: ~20 min           â”‚          â”‚
â”‚  â”‚                            â”‚  â”‚  â”‚                            â”‚          â”‚
â”‚  â”‚  ğŸ“Š Status                 â”‚  â”‚  â”‚  ğŸ“Š Status                 â”‚          â”‚
â”‚  â”‚     En route vers client   â”‚  â”‚  â”‚     Garage en route        â”‚          â”‚
â”‚  â”‚                            â”‚  â”‚  â”‚                            â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚          â”‚
â”‚  â”‚  â”‚ ğŸ“ Appeler le client â”‚  â”‚  â”‚  â”‚  â”‚ ğŸ“ Appeler le garage â”‚  â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚          â”‚
â”‚  â”‚  â”‚ ğŸ’¬ Ouvrir le chat    â”‚  â”‚  â”‚  â”‚  â”‚ ğŸ’¬ Ouvrir le chat    â”‚  â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚          â”‚
â”‚  â”‚                            â”‚  â”‚  â”‚                            â”‚          â”‚
â”‚  â”‚  ğŸ”„ Mise Ã  jour: 3s        â”‚  â”‚  â”‚  ğŸ”„ Mise Ã  jour: 2s        â”‚          â”‚
â”‚  â”‚                            â”‚  â”‚  â”‚                            â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                  â”‚                                          â”‚
â”‚  âœ… CONNEXION Ã‰TABLIE            â”‚  âœ… CONNEXION Ã‰TABLIE                    â”‚
â”‚  âœ… Tracking actif (5s)          â”‚  âœ… Tracking actif (5s)                  â”‚
â”‚  âœ… Appel disponible             â”‚  âœ… Appel disponible                     â”‚
â”‚  âœ… Chat disponible              â”‚  âœ… Chat disponible                      â”‚
â”‚                                  â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š LOGS EN TEMPS RÃ‰EL

### Terminal 1: PropGarage
```bash
adb -s GARAGE_DEVICE logcat | grep -E "BreakdownDetail|BreakdownTracking"
```

```
0:08  BreakdownDetail: Screen loaded
0:08  BreakdownDetail: Displaying breakdown 675c9876...
0:09  BreakdownDetail: User clicked Accept button
0:09  BreakdownDetail: Showing confirmation dialog
0:09  BreakdownDetail: User confirmed acceptance
0:10  BreakdownDetail: Calling updateBreakdownStatus(ACCEPTED)
0:10  BreakdownDetail: API call successful
0:10  BreakdownDetail: Snackbar: "Demande acceptÃ©e âœ“"
0:11  BreakdownDetail: Calling onAccepted() callback
0:11  NavGraph: Navigating to BreakdownTracking(675c9876...)
0:11  BreakdownTracking: Screen initialized
0:11  BreakdownTracking: Loading breakdown details...
0:12  BreakdownTracking: Breakdown loaded: Panne moteur
0:12  BreakdownTracking: Starting location updates
0:12  BreakdownTracking: ğŸ“ Garage position: 36.8100, 10.1900
0:13  BreakdownTracking: ğŸ“ Client position: 36.8065, 10.1815
0:13  BreakdownTracking: ğŸ“ Distance: 15.0 km
0:13  BreakdownTracking: Map markers updated
0:18  BreakdownTracking: Location update (5s)
0:18  BreakdownTracking: ğŸ“ New garage position: 36.8102, 10.1902
0:18  BreakdownTracking: ğŸ“ Distance: 14.8 km
```

---

### Terminal 2: Client
```bash
adb -s CLIENT_DEVICE logcat | grep -E "SOSStatus|BreakdownTracking"
```

```
0:05  SOSStatus: Screen loaded
0:05  SOSStatus: Starting polling for breakdown 675c9876...
0:05  SOSStatus: Polling interval: 5000ms
0:06  SOSStatus: Fetching breakdown status...
0:06  SOSStatus: Status: PENDING
0:11  SOSStatus: Fetching breakdown status...
0:11  SOSStatus: Status: PENDING
0:13  SOSStatus: Fetching breakdown status...
0:13  SOSStatus: Status: ACCEPTED â† CHANGEMENT DÃ‰TECTÃ‰!
0:14  SOSStatus: LaunchedEffect triggered
0:14  SOSStatus: currentStatus=PENDING, newStatus=ACCEPTED
0:14  SOSStatus: âœ… Status changed to ACCEPTED! Navigating to tracking...
0:14  SOSStatus: Calling onNavigateToTracking(675c9876...)
0:14  NavGraph: Navigating to BreakdownTracking(675c9876...)
0:15  BreakdownTracking: Screen initialized
0:15  BreakdownTracking: Loading breakdown details...
0:15  BreakdownTracking: Breakdown loaded: Panne moteur
0:15  BreakdownTracking: Starting location updates
0:15  BreakdownTracking: ğŸ“ Client position: 36.8065, 10.1815
0:16  BreakdownTracking: ğŸ“ Garage position: 36.8100, 10.1900
0:16  BreakdownTracking: ğŸ“ Distance: 15.0 km
0:16  BreakdownTracking: Map markers updated
0:20  BreakdownTracking: Location update (5s)
0:20  BreakdownTracking: ğŸ“ Client position: 36.8065, 10.1815
0:21  BreakdownTracking: ğŸ“ Garage position: 36.8102, 10.1902
0:21  BreakdownTracking: ğŸ“ Distance: 14.8 km
```

---

## âœ… POINTS DE VÃ‰RIFICATION

### Checkpoint 1: PropGarage accepte (0:09-0:11)
- [ ] Dialogue de confirmation s'affiche
- [ ] AprÃ¨s confirmation, requÃªte PATCH envoyÃ©e
- [ ] Snackbar "Demande acceptÃ©e âœ“" s'affiche
- [ ] Navigation vers BreakdownTracking dÃ©marre
- [ ] BreakdownTracking s'ouvre
- [ ] Carte s'affiche
- [ ] Marqueur garage positionnÃ©

**Logs attendus:**
```
BreakdownDetail: Calling onAccepted() callback
NavGraph: Navigating to BreakdownTracking
BreakdownTracking: Screen initialized
```

---

### Checkpoint 2: Client dÃ©tecte (0:13-0:15)
- [ ] SOSStatusScreen continue de poll
- [ ] Polling dÃ©tecte status = ACCEPTED
- [ ] LaunchedEffect se dÃ©clenche
- [ ] Log "âœ… Status changed to ACCEPTED!"
- [ ] Navigation vers BreakdownTracking dÃ©marre
- [ ] BreakdownTracking s'ouvre
- [ ] Carte s'affiche
- [ ] Les DEUX marqueurs visibles (client + garage)

**Logs attendus:**
```
SOSStatus: Status: ACCEPTED
SOSStatus: âœ… Status changed to ACCEPTED! Navigating to tracking...
NavGraph: Navigating to BreakdownTracking
BreakdownTracking: Screen initialized
```

---

### Checkpoint 3: Les deux connectÃ©s (0:15+)
- [ ] PropGarage voit carte avec 2 marqueurs
- [ ] Client voit carte avec 2 marqueurs
- [ ] Distance affichÃ©e (mÃªme valeur sur les 2)
- [ ] Positions se mettent Ã  jour toutes les 5s
- [ ] Bouton appel fonctionne sur les deux
- [ ] Bouton chat fonctionne sur les deux

**Logs attendus (les deux):**
```
BreakdownTracking: Location update (5s)
BreakdownTracking: ğŸ“ Position updated
BreakdownTracking: ğŸ“ Distance: X.X km
```

---

## ğŸ¬ VIDÃ‰O DE TEST

### ScÃ©nario de test complet

**PrÃ©requis:**
- 2 tÃ©lÃ©phones Android
- App installÃ©e sur les deux
- Compte User sur tÃ©lÃ©phone 1
- Compte PropGarage sur tÃ©lÃ©phone 2

**Actions:**

```
â”Œâ”€ TÃ‰LÃ‰PHONE 1 (Client) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                            â”‚
â”‚  0:00  Ouvrir app                                          â”‚
â”‚  0:01  Aller dans "VÃ©hicules"                             â”‚
â”‚  0:02  SÃ©lectionner un vÃ©hicule                           â”‚
â”‚  0:03  Cliquer "ğŸ†˜ DÃ©clarer une panne"                    â”‚
â”‚  0:04  Remplir:                                            â”‚
â”‚        - Type: Panne moteur                                â”‚
â”‚        - Description: "Test tracking"                      â”‚
â”‚  0:05  Cliquer "Envoyer SOS"                              â”‚
â”‚  0:06  âœ… SOSStatusScreen s'affiche                        â”‚
â”‚  0:07  Voir "En attente..."                               â”‚
â”‚  0:08  Animation pulse visible                            â”‚
â”‚        ... Attendre notification garage ...               â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ TÃ‰LÃ‰PHONE 2 (Garage) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                            â”‚
â”‚  0:09  ğŸ”” Notification apparaÃ®t                            â”‚
â”‚        "ğŸ†˜ Nouvelle demande SOS - Panne moteur"           â”‚
â”‚  0:10  TAP sur la notification                            â”‚
â”‚  0:11  âœ… BreakdownDetailScreen s'affiche                  â”‚
â”‚  0:12  Voir carte + dÃ©tails                               â”‚
â”‚  0:13  Cliquer "Accepter"                                 â”‚
â”‚  0:14  Cliquer "Confirmer" dans dialogue                  â”‚
â”‚  0:15  âœ… BreakdownTrackingScreen s'affiche                â”‚
â”‚  0:16  Voir carte avec marqueur garage                    â”‚
â”‚        ... Attendre client ...                            â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ TÃ‰LÃ‰PHONE 1 (Client) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                            â”‚
â”‚  0:17  (5-10s aprÃ¨s acceptation)                          â”‚
â”‚  0:18  âœ… SOSStatusScreen dÃ©tecte changement               â”‚
â”‚  0:19  âœ… BreakdownTrackingScreen s'affiche                â”‚
â”‚  0:20  Voir carte avec LES DEUX marqueurs                 â”‚
â”‚        - ğŸš— Garage (bleu)                                  â”‚
â”‚        - ğŸ“ Moi (rouge)                                    â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ LES DEUX TÃ‰LÃ‰PHONES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                            â”‚
â”‚  âœ… Carte identique sur les deux                           â”‚
â”‚  âœ… Distance identique affichÃ©e                            â”‚
â”‚  âœ… Positions se mettent Ã  jour                            â”‚
â”‚  âœ… Bouton appel fonctionne                                â”‚
â”‚  âœ… Bouton chat fonctionne                                 â”‚
â”‚                                                            â”‚
â”‚  ğŸ‰ SUCCÃˆS COMPLET!                                        â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¸ CAPTURES D'Ã‰CRAN ATTENDUES

### 1. PropGarage - BreakdownDetailScreen
```
[Carte OpenStreetMap avec marqueur]
ğŸ“ Position client visible
ğŸ“‹ DÃ©tails du SOS
ğŸ‘¤ Info client
[âœ… ACCEPTER] [âŒ REFUSER]
```

### 2. PropGarage - BreakdownTrackingScreen (aprÃ¨s accept)
```
[Carte OpenStreetMap avec 2 marqueurs]
ğŸš— Marqueur garage (bleu) - MOI
ğŸ“ Marqueur client (rouge)
ğŸ“ Distance: 15 km
â±ï¸ ETA: ~20 min
[ğŸ“ Appeler] [ğŸ’¬ Chat]
```

### 3. Client - SOSStatusScreen (pendant attente)
```
ğŸš¨ EN ATTENTE...
Recherche d'un garage...
[Animation pulse]
Type: Panne moteur
ğŸ”„ Polling actif
```

### 4. Client - BreakdownTrackingScreen (aprÃ¨s dÃ©tection)
```
[Carte OpenStreetMap avec 2 marqueurs]
ğŸ“ Marqueur client (rouge) - MOI
ğŸš— Marqueur garage (bleu)
ğŸ“ Distance: 15 km
â±ï¸ ETA: ~20 min
[ğŸ“ Appeler] [ğŸ’¬ Chat]
```

---

## âœ… RÃ‰SULTAT FINAL

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  âœ… TEST RÃ‰USSI                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  âœ… PropGarage navigue vers Tracking (~1s)               â”‚
â”‚  âœ… Client navigue vers Tracking (~5-10s)                â”‚
â”‚  âœ… Les deux voient la mÃªme carte                        â”‚
â”‚  âœ… Les deux marqueurs visibles                          â”‚
â”‚  âœ… Distance calculÃ©e correctement                       â”‚
â”‚  âœ… Positions en temps rÃ©el (5s)                         â”‚
â”‚  âœ… Appel fonctionne                                     â”‚
â”‚  âœ… Chat fonctionne                                      â”‚
â”‚                                                          â”‚
â”‚  ğŸ‰ FLUX SOS 100% FONCTIONNEL!                           â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Date:** 14 dÃ©cembre 2024  
**Status:** âœ… PrÃªt Ã  tester  
**DurÃ©e test:** ~2-3 minutes  
**Appareils requis:** 2 tÃ©lÃ©phones Android
